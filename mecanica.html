<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Lei do Inverso do Quadrado</title>

  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at center, #05060c, #02030a);
      color: #eaeaea;
      font-family: "Georgia", "Times New Roman", serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h2, h3 {
      font-weight: 400;
      letter-spacing: 0.08em;
      margin-top: 30px;
    }

    canvas {
      margin: 20px 0;
      background: rgba(0, 0, 0, 0.35);
      border: 1px solid rgba(255,255,255,0.15);
    }

    .info {
      max-width: 760px;
      text-align: center;
      font-size: 14px;
      line-height: 1.7;
      opacity: 0.85;
    }

    .theory {
      max-width: 820px;
      font-size: 15px;
      line-height: 1.8;
      margin: 40px 20px 80px;
      opacity: 0.9;
    }

    .theory p {
      margin-bottom: 18px;
    }

    .equation {
      background: rgba(255,255,255,0.05);
      padding: 12px 16px;
      border-left: 3px solid #5aa0ff;
      font-family: "Courier New", monospace;
      margin: 12px 0;
      font-size: 14px;
    }

    .source {
      font-size: 13px;
      opacity: 0.75;
    }
  </style>
</head>
<body>

<h2>MODELO I · LEI DO INVERSO DO QUADRADO</h2>

<div class="info">
  Representação visual de campos centrais e da dinâmica orbital clássica sob uma força
  que decai com o quadrado da distância.
</div>

<canvas id="fieldCanvas" width="520" height="380"></canvas>

<div class="info">
  Órbita newtoniana obtida por integração numérica estável.
</div>

<canvas id="orbitCanvas" width="520" height="380"></canvas>

<section class="theory">

  <h3>1. Diluição geométrica de campos (1/r²)</h3>

  <p>
    Um campo gerado por uma fonte pontual e isotrópica se distribui igualmente em todas
    as direções do espaço. Em três dimensões, isso implica que sua intensidade total se
    espalha sobre a superfície de uma esfera.
  </p>

  <p>
    A área da superfície esférica cresce proporcionalmente a r². Como a quantidade total
    do fluxo é conservada, a intensidade do campo deve diminuir nessa mesma proporção.
  </p>

  <div class="equation">
    Área da esfera: A = 4πr²  
    Intensidade do campo: F ∝ 1 / r²
  </div>

  <p>
    Esse argumento é puramente geométrico e independe da natureza do campo. Por isso,
    a mesma lei aparece na gravitação (Newton), no eletromagnetismo (Coulomb)
    e no fluxo de radiação luminosa.
  </p>

  <h3>2. Lei da Gravitação Universal</h3>

  <p>
    Newton postulou que duas massas puntuais se atraem com uma força proporcional
    ao produto das massas e inversamente proporcional ao quadrado da distância entre elas.
  </p>

  <div class="equation">
    F = G · (M · m) / r²
  </div>

  <p>
    Como força é aceleração vezes massa, a aceleração do corpo de massa m é:
  </p>

  <div class="equation">
    a = F / m = G · M / r²
  </div>

  <p>
    Na simulação, essa aceleração é decomposta em componentes vetoriais x e y,
    apontando sempre para o centro de massa, caracterizando um campo central.
  </p>

  <h3>3. Movimento orbital e conservação</h3>

  <p>
    Campos centrais conservativos possuem duas quantidades fundamentais preservadas:
    energia mecânica total e momento angular. É essa dupla conservação que garante
    órbitas fechadas para potenciais do tipo 1/r.
  </p>

  <p>
    Para uma órbita circular, a velocidade inicial deve satisfazer:
  </p>

  <div class="equation">
    v = √(G · M / r)
  </div>

  <p>
    Valores diferentes dessa velocidade produzem órbitas elípticas, parabólicas ou
    hiperbólicas, conforme demonstrado por Kepler e formalizado por Newton.
  </p>

  <h3>4. Integração numérica</h3>

  <p>
    A equação do movimento não é resolvida analiticamente no código. Utiliza-se um
    método de integração temporal semi-implícito, que preserva melhor a energia do
    sistema do que o método de Euler simples.
  </p>

  <p>
    Esse cuidado numérico é essencial. Sem ele, o sistema ganharia ou perderia energia
    artificialmente, destruindo a órbita, um erro clássico em simulações ingênuas.
  </p>

  <h3>Fontes e referências</h3>

  <p class="source">
    Newton, I. Principia Mathematica, Livro I.  
    Goldstein, H. Classical Mechanics.  
    Landau & Lifshitz. Mechanics, Vol. 1.  
    Feynman Lectures on Physics, Vol. I, Cap. 13.
  </p>

</section>

<script>
/* CAMPO RADIAL */
const fieldCanvas = document.getElementById("fieldCanvas");
const fctx = fieldCanvas.getContext("2d");
const fx = fieldCanvas.width / 2;
const fy = fieldCanvas.height / 2;
let phase = 0;

function drawField() {
  fctx.clearRect(0, 0, fieldCanvas.width, fieldCanvas.height);
  fctx.fillStyle = "#ffffff";
  fctx.beginPath();
  fctx.arc(fx, fy, 4, 0, Math.PI * 2);
  fctx.fill();

  for (let i = 1; i <= 10; i++) {
    const r = i * 28 + (phase % 28);
    const intensity = Math.min(0.9, 6000 / (r * r));
    fctx.beginPath();
    fctx.arc(fx, fy, r, 0, Math.PI * 2);
    fctx.strokeStyle = `rgba(80,160,255,${intensity})`;
    fctx.lineWidth = 1.5;
    fctx.stroke();
  }
  phase += 0.3;
  requestAnimationFrame(drawField);
}
drawField();

/* ÓRBITA */
const orbitCanvas = document.getElementById("orbitCanvas");
const ctx = orbitCanvas.getContext("2d");
const G = 1;
const M = 3000;
const dt = 0.03;
const cx = orbitCanvas.width / 2;
const cy = orbitCanvas.height / 2;

const body = {
  x: cx + 130,
  y: cy,
  vx: 0,
  vy: -Math.sqrt(G * M / 130)
};

const trail = [];

function stepOrbit() {
  const dx = body.x - cx;
  const dy = body.y - cy;
  const r = Math.sqrt(dx * dx + dy * dy);
  const ax = -G * M * dx / (r * r * r);
  const ay = -G * M * dy / (r * r * r);
  body.vx += ax * dt;
  body.vy += ay * dt;
  body.x += body.vx * dt;
  body.y += body.vy * dt;
  trail.push({ x: body.x, y: body.y });
  if (trail.length > 600) trail.shift();
}

function drawOrbit() {
  ctx.clearRect(0, 0, orbitCanvas.width, orbitCanvas.height);
  stepOrbit();

  ctx.beginPath();
  trail.forEach((p, i) => i === 0 ? ctx.moveTo(p.x, p.y) : ctx.lineTo(p.x, p.y));
  ctx.strokeStyle = "rgba(255,255,255,0.25)";
  ctx.stroke();

  ctx.beginPath();
  ctx.arc(cx, cy, 10, 0, Math.PI * 2);
  ctx.fillStyle = "#3a7cff";
  ctx.fill();

  ctx.beginPath();
  ctx.arc(body.x, body.y, 4, 0, Math.PI * 2);
  ctx.fillStyle = "#dddddd";
  ctx.fill();

  requestAnimationFrame(drawOrbit);
}
drawOrbit();
</script>

</body>
</html>
